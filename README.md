# rcoaster

![License](https://img.shields.io/github/license/fonzcastellanos/roller_coaster)

A simulated roller coaster experience built with OpenGL.

![Demo](demo.gif)

## Description

- The track model is generated by using recursive subdivision to evaluate the Catmull-Rom splines defined by the control points in the spline files. 
- A rail has a T-shaped cross section.
- Crossties are placed between the two rails at a regular distance interval.
- The images to serve as textures for the ground, sky, and crossties are designated via command-line parameters.
- The ride follows a continuous path/orientation and is rendered at reasonable framerates (~60-90 fps on early 2015 Macbook Pro)

## Build Requirements
- Operating system: macOS or Linux
- C++ compiler supporting at least C++17
- CMake >= 3.2
- OpenGL >= 3.3

My development environment and tooling:
- Hardware: MacBook Pro (Retina, 13-inch, Early 2015)
- Operating system: macOS Mojave == 10.14.16
- C++ compiler: Clang == 10.0.01
- CMake == 3.25.1
- OpenGL == 4.1

## Build Steps
The build system must be generated before the project can be built. From the project directory, generate the build system:
```sh
mkdir build
cd build
cmake ..
```
The `-G` option is omitted in `cmake ..`, so CMake will choose a default build system generator type based on your platform. To learn more about generators, see the [CMake docs](https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html).

After having generated the build system, go back to the project directory:
```sh
cd ..
```

Build *all* the targets of the project:
```sh
cmake --build build --config Release
```

The built targets are placed in the directory `build`. There is only one executable target: `rcoaster`.

## Usage
```sh
./build/rcoaster <track_file> <ground_texture> <sky_texture> <crossbar_texture>
```
### Example
```sh
./build/rcoaster track.txt textures/grass.jpg textures/sky.jpg textures/wood.jpg
```

### Track File
The track file designates the spline files to load to create the track. 

The example track file is [`track.txt`](track.txt), which looks like this (except without the comments)
```
1 <--- number of spline files to load in the order listed
splines/custom.sp <-- path to a spline file
```

Sample splines files are in the `splines` directory. I tailored the spline file [`custom.sp`](splines/custom.sp) to produce a track of reasonable size for my camera movement speed and thus it provides the best experience. The other spline files were provided to all students for testing and unfortunately produce tracks that are too small for my configuration.
 
 ### Texture Files
The texture files are JPEG files. Sample texture files are in the `textures` directory.